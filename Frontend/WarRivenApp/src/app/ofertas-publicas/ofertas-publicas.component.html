<div style="max-width: 800px; margin: 2rem auto;">
  <h2>Ofertas P√∫blicas</h2>

  <!-- B√∫squeda -->
  <input [(ngModel)]="searchText" placeholder="üîç Buscar por nombre o arma" />

  <!-- Encabezado de tabla con orden -->
  <table border="1" cellpadding="8" style="width: 100%; margin-top: 1rem;">
    <thead>
      <tr>
        <th (click)="ordenarPor('nombreRiven')" style="cursor: pointer;">Nombre</th>
        <th (click)="ordenarPor('arma')" style="cursor: pointer;">Arma</th>
        <th (click)="ordenarPor('precioVenta')" style="cursor: pointer;">Precio</th>
        <th>Estado</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let oferta of ofertas 
                  | filterBy: ['nombreRiven', 'arma']: searchText 
                  | orderBy: [ [sortColumn, sortAsc ? 'asc' : 'desc'] ]
                  | paginate: { itemsPerPage: 5, currentPage: p }">
        <td>
          <span
            (mouseenter)="mostrarRiven(oferta.idRiven, $event)"
            (mouseleave)="ocultarRiven()"
            style="cursor: pointer; text-decoration: underline;">
            {{ oferta.nombreRiven }}
          </span>
        </td>
        <td>{{ oferta.arma }}</td>
        <td>{{ oferta.precioVenta }} cr√©ditos</td>
        <td>{{ oferta.disponibilidad ? 'Abierta' : 'Cerrada' }}</td>
      </tr>
    </tbody>
  </table>

  <!-- Tarjeta flotante del Riven -->
  <div
    class="popup"
    *ngIf="showPopup && rivenSeleccionado"
    [style.top.px]="popupY + 10"
    [style.left.px]="popupX + 10">
    <strong>{{ rivenSeleccionado.nombre }}</strong><br>
    {{ rivenSeleccionado.arma }}<br><br>

    <div *ngIf="rivenSeleccionado.stat1">{{ rivenSeleccionado.stat1 }}: {{ rivenSeleccionado.valor1 }}</div>
    <div *ngIf="rivenSeleccionado.stat2">{{ rivenSeleccionado.stat2 }}: {{ rivenSeleccionado.valor2 }}</div>
    <div *ngIf="rivenSeleccionado.stat3">{{ rivenSeleccionado.stat3 }}: {{ rivenSeleccionado.valor3 }}</div>
    <div *ngIf="rivenSeleccionado.stat4">{{ rivenSeleccionado.stat4 }}: {{ rivenSeleccionado.valor4 }}</div>
  </div>

  <!-- Paginaci√≥n -->
  <pagination-controls (pageChange)="p = +$event"></pagination-controls>


</div>
