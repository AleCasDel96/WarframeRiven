<div style="max-width: 800px; margin: 2rem auto;">
  <h2>Mis Ofertas</h2>

  <p *ngIf="error" style="color:red;">{{ error }}</p>

  <ul *ngIf="ofertas.length > 0; else sinOfertas">
    <li *ngFor="let o of ofertas">
      <p>
        <strong>
          <span (mouseenter)="mostrarRiven(o.idRiven, $event)" (mouseleave)="ocultarRiven()"
            style="cursor: pointer; text-decoration: underline;">
            {{ rivenSeleccionado?.nombre || 'Riven desconocido' }}
          </span>
        </strong><br>
        Precio: {{ o.precioVenta }} créditos <br>
        Estado:
        <span *ngIf="o.disponibilidad">Abierta</span>
        <span *ngIf="!o.disponibilidad">Cerrada</span>,
        Partida: {{ o.partida }},
        Destino: {{ o.destino }}
      </p>

      <div>
        <button *ngIf="o.disponibilidad" (click)="cerrar(o.id)">Cerrar</button>
        <button *ngIf="!o.disponibilidad && !o.partida" (click)="confirmarVenta(o.id)">Confirmar Venta</button>
        <button *ngIf="o.partida && o.destino" (click)="transpaso(o.id)">Transpaso</button>
        <button (click)="eliminar(o.id)">Eliminar</button>
      </div>

      <hr>
    </li>
  </ul>

  <ng-template #sinOfertas>
    <p>No has creado ofertas aún.</p>
  </ng-template>

  <div class="popup" *ngIf="showPopup && rivenSeleccionado" [style.top.px]="popupY + 10" [style.left.px]="popupX + 10">

    <strong>{{ rivenSeleccionado.nombre }}</strong><br>
    {{ rivenSeleccionado.arma }}<br><br>

    <div *ngIf="rivenSeleccionado.stat1">
      {{ rivenSeleccionado.stat1 }}: {{ rivenSeleccionado.valor1 }}
    </div>

    <div *ngIf="rivenSeleccionado.stat2">
      {{ rivenSeleccionado.stat2 }}: {{ rivenSeleccionado.valor2 }}
    </div>

    <div *ngIf="rivenSeleccionado.stat3">
      {{ rivenSeleccionado.stat3 }}: {{ rivenSeleccionado.valor3 }}
    </div>

    <div *ngIf="rivenSeleccionado.stat4">
      {{ rivenSeleccionado.stat4 }}: {{ rivenSeleccionado.valor4 }}
    </div>
  </div>

</div>